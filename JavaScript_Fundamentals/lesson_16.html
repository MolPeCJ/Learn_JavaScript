<!DOCTYPE html>
<html>
    <body>

        <script>
            "use strict";
            // Синтаксис, который мы использовали до этого называется 'Function Declaration' (Объявление функции)
            function sayHi() {
                alert( 'Hi' );
            }

            alert( sayHi ); // выведет код функции

            // Существует ещё один синтаксис создания функций, который называется 'Function Expression' (Функциональное Выражение)
            let sayHello = function() {
                alert( 'Hello' );
            }; // ; завершает инструкцию, так как это не блок кода, а выражение с присваиванием

            alert( sayHello ); // выведет код функции

            // Смысл обоих примеров кода одинаков: 'создать функцию и поместить её значение в переменную'

            // Мы можем скопировать функцию в другую переменную:
            let func = sayHi; // важно, что здесь нет круглых скобок
            func(); // Hi

            // Функции - 'колбэки'.
            /* Аргументы функции ask называют функциями-колбэками или просто колбэками.  
            Ключевая идея в том, что мы передаём функцию и ожидаем, что она 
            вызовется обратно (от англ. «call back» – обратный вызов) когда-нибудь позже, если это будет необходимо. 
            В нашем случае, showOk становится колбэком для ответа «yes», а showCancel – для ответа «no». */
            function ask(question, yes, no) {
                if (confirm(question)) yes()
                else no();
            }

            function showOk() {
                alert( 'You agree.' );
            }

            function showCancel() {
                alert( 'You disagree.' );
            }
            
            ask('Do you agree?', showOk, showCancel);
            // Иле же значительно короче 
            // ask('Do you agree?', function() { alert('You agree.'); }, function() { alert('You disagree.'); });

            /* Пример использования Function Expression, ведь объявление Function Declaration видимо только
            внутри блока кода, в котором располагается. */
            let age = prompt('How old are you?', '');
            
            let welcome;
            
            if (age < 18) {
                welcome = function() {
                    alert( 'Hi!' );
                };
            } else {
                welcome = function() {
                    alert( 'Hello!' );
                };
            }
            
            welcome(); // теперь всё в порядке

            // Можно упростить этот код ещё сильнее, используя условный оператор ?:
            let age1 = prompt('How old are you?', '');
            
            let welcome1 = (age1 < 18) ? 
            function() { alert( 'Hi!' ); } : 
            function() { alert( 'Hello!' ); };
            
            welcome1(); // теперь всё в порядке
        </script>

    </body>
</html>